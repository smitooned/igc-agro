"use strict";

var _jsdom = require("jsdom");

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

// my-custom-environment
const JSDOMEnvironment = require('jest-environment-jsdom');

class SilentJSDOM extends JSDOMEnvironment {
  constructor(config, options = {}) {
    super(_extends({}, config, {
      testEnvironmentOptions: _extends({}, config.testEnvironmentOptions || {}, {
        virtualConsole: new _jsdom.VirtualConsole().sendTo(options.console || console, {
          omitJSDOMErrors: true
        })
      })
    }));
  }

  setup() {
    super.setup();
  }

  teardown() {
    super.teardown();
  }

  runScript(script) {
    return super.runScript(script);
  }

}

module.exports = SilentJSDOM;