/**
 * This is a template for view definition file in
 * Project Phoenix : UI-Creator
 */
module.exports = {
    name: "Image",
    imports: [{
        type: "asset",
        take: "phoenixLogo",
        from: "./phoenix-logo-black.svg"
    }],
    variables: [
      {
        name: "alias",
        type: "string",
        defaultValue: "image",
        metadata: [{
            displayName: "Alias",
            widget: "INPUT",
            widgetData: {},
            grouping: "General",
            target: "alias"
        }],
        isMandatory: false,
        scope: "public"
    }, {
        name: "source",
        type: "string",
        defaultValue: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAMcAQMAAACl5F6MAAAABlBMVEW8vsDn6OnyCdevAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEbUlEQVR4AezBMQEAAADCoPVP7WsIoAcAAAAAAAAAAAAAAAAAAAAAAIydO0iOk4eCAGyVXNEuukF0FB1NHE1H0RG0ZEHRf5A99WYMk1T+Kvolw+vVjBf+CkMLoRCFWQkuqCquB3QOOQKrCpwBKJ1i6Jxk/EzTubaArgAHQOeyjhu8aMEafUrYolLjLRMfLrpw5cMYadeBnTLcrwN7ZXi+DhyuCi8GG/xy8Gyw3SRe7n7cLzfnajah5z87keFJ//lYf0WAAq+vv+rDX+fir+zpr2Xqr95qrle/ywr9OxX+/nF19fGRmR/yrzCJCudRqNHiNDHhIlquTBgCF2aX3V2BwYT9nUYdNoNojnqjiKJ56q0xiRaok4EsWqQO2EW0RJ3wQbTMvDc6iFaYswEvkx5Hnf8E0Tx1xhcfj3gh1lhOLHVWnx8vLvBq/FAnYpGBhwEElVfjhyETjVjj5bFanATpLrHIcpDkIstpJRdZLmRykaW63CLLMZKLLGeVXGS5jvlFluZKq8k1lnGMXGMZuck1lnsVu8ZydybXWOYj5BrLDIxcY5lz8mrML/JupPIC02osf3tyjeVqY9dYikys8QlTAUIsFovFYrFYLJaIP8hq8D4GG2ywwQYbbLDBBhtssMEGG2ywwQYb3N9+G/ePwQYbbLDBBhtssMEGG5yhA3ugqcARmFXgDKwqcAGgAsu+J1zYy94UXDjIRxosH+crwUm2euHCWX43Fy7YciUYI9N1YIeRavDpsMdIM9jgs+BOh4PBavA3ras6aMFRC06TEpyrLsy/H5emBKOrwvxZpsOsA3ssOk8SQQ9edZ4WI6DzfJwU4Ym/FCE7ofFXfQoJlnUugRsHdl9GTKBzlxRF6vzVW9kngr5eLTB5hT6MUhPgLfdDRhwQCQ79TQXe756tAWcp10XgIuMYF8aWxoedLtz5sB/wzIeDLrzw4QiRqHBSgOvnwLWFCrc7eCLCbnwrXFh2ZMdHKhEOyx3ciHBch8OHE2TtCZ0IZ0wCz1S4jhGTDhc0ecN9IcLja/qEVwIswqwC+/H3zfgMDw7j95cbPBFg+YEKnIaGWyoNzpvmcEujws0rwGX7LnCnwWOgDLhlZsFuaJEP+zFCC7yw4DCAhFtWFhwHl/lwwpeowRMJzlpw+QpXEgwl2O3gxoH9Du4cOOzgmQNHLTjt4OXF4byDVw5csAsHhhLssM/EgD32qQw4aMER+zQtuDPgpAVn7DMz4IJ9FgYMJdgdwSsB9jgKAQ5acDyEJy24ng8nLTgfwu18uBzC/XwYSrA7hmfCeyCHWU6Hw18Gr4R3fY5zOpy04PwEngj/KfYw9WwYSrB7BjfCW4qH6a8Kh2fwTHgF9jDLyXDSgvMzeKW8UX6Uk2Eowe45PL0m7J/D9VQ4aMG/isH/JwYbbLDBBhtssMEGG2ywtz3K/2tvDmQAAAAABvlbn+NbCSQWi8VisVgsFovFYrFYLBYvAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEHVJjR5bJLd8AAAAASUVORK5CYII=",
        metadata: [{
            displayName: 'Image',
            widget: 'IMAGE_PROPERTIES',
            widgetData: {
                hyperlink: 'hyperlink',
                allowToolTip: 'allowToolTip',
                title: 'title',
                borderRadius: 'compStyle.__root.borderRadius'
            },
            grouping: '',
            tab: 'Style',
            target: 'source'
        }, {
            displayName: "Image Source",
            widget: "IMAGE_UPLOADER",
            widgetData: {},
            grouping: "General",
            target: "source"
        }],
        isMandatory: false,
        scope: "public"
    }, {
        name: "compStyle",
        type: "object",
        properties: { erase: false },
        defaultValue: {
            __root: {
                width: 100,
                height: 100,
                borderRadius: "10px"
            }
        },
        isMandatory: false,
        scope: "public",
        metadata: [{
            displayName: "Height",
            widget: "NUMERIC_STEPPER",
            widgetData: {},
            grouping: "General",
            target: "compStyle.__root.height"
        }, {
            displayName: "Width",
            widget: "NUMERIC_STEPPER",
            widgetData: {},
            grouping: "General",
            target: "compStyle.__root.width"
        },
            {
                displayName: "Set Circular Radius",
                widget: "NUMERIC_STEPPER",
                widgetData: {},
                grouping: "General",
                target: "compStyle.__root.borderRadius"
            }
        ]
    }, {
        name: "theme",
        type: "object",
        properties: { erase: false },
        defaultValue: {
            __root: ""
        },
        isMandatory: false,
        scope: "public"
    }, {
        name: "allowToolTip",
        type: "boolean",
        defaultValue: false,
        isMandatory: false,
        scope: "public",
        metadata: {
            displayName: "Show ToolTip",
            widget: "SWITCHERY",
            grouping: "Advanced",
            target: "allowToolTip",
            widgetData: {}
        }
    }, {
        name: "title",
        type: "string",
        defaultValue: "Image",
        isMandatory: false,
        scope: "public",
        metadata: {
            displayName: "Tooltip",
            widget: "INPUT",
            widgetData: {},
            grouping: "Advanced",
            target: "title"
        }
    }, {
        name: "draggable",
        type: "boolean",
        defaultValue: false,
        isMandatory: false,
        scope: "public"
    }, {
        name: "navigateFn",
        type: "function",
        defaultValue: () => {},
        scope: "public"
    },
        {
            name: "hyperlink",
            type: "object",
            defaultValue: null,
            metadata: [{
                displayName: "Hyperlink",
                widget: "HYPERLINK",
                widgetData: {},
                grouping: "Hyperlink",
                target: "hyperlink"
            }],
            scope: "public"
        }
    ],
    functions: {
        _getToolTip: () => {
            if (__var__allowToolTip) {
                return 'tooltip';
            } else {
                return null;
            }
        },
        _dispTitle: () => {
            if (__var__allowToolTip) {
                return __var__title;
            } else {
                return null;
            }
        },
        _getCircularClass: () => {
            return "";
        },
        getTooltipStatus: () => {
            return __var__allowToolTip;
        },
        enableTooltip: () => {
            // __utils__setPublicVars({
            //     allowToolTip: true
            // });
        },
        disableTooltip: () => {
            // __utils__setPublicVars({
            //     allowToolTip: false
            // });
        },
        toggleTooltip: () => {
            // __utils__setPublicVars({
            //     allowToolTip: !__var__allowToolTip
            // });
        },
        getTitle: () => {
            return __var__title;
        },
        setTitle: title => {
            // __utils__setPublicVars({
            //     title: title
            // });
        },
        redirect: (e) => {
            __var__navigateFn(__var__hyperlink);
            e.preventDefault();;
        }
    },
    eventEmitters: [],
    localTemplates: {},
    structure: {
        type: 'a',
        props: {
            href: "__var__hyperlink ? (__var__hyperlink.name + '.html') : '#'",
            onClick: "__fn__redirect"
        },
        children: {
            id: "baseImg",
            type: "img",
            props: {
                className: "",
                src: "__var__source",
                style: {
                    borderRadius: '__var__compStyle.__root.borderRadius',
                    width: '__var__compStyle.__root.width',
                    height: '__var__compStyle.__root.height',
                    opacity:"__var__compStyle.__root.opacity"
                },
                "data-toggle": "__fn___getToolTip()",
                title: "__fn___dispTitle()",
                draggable: "__var__draggable"
            }
        }
    },
    lifecycleHooks: {
        init: {
            before: () => {}
        },
        onModelChange: (newExternalVariables) => {}
    }
};
